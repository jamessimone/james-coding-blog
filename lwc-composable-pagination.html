<!DOCTYPE html><html><head><title>Joys Of Apex | Lightning Web Components Composable Pagination</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="shortcut icon" href="/joys-of-apex/favicon.ico"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/joys-of-apex/styles/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/joys-of-apex/bundle/codedoc-bundle.js"></script><meta property="og:image" content="./img/joys-of-apex-thumbnail.png"><script>window.githubConfig={"repo":"james-coding-blog","user":"jamessimone"}</script><style>.container{padding-top: 0 !important}</style><style>#-codedoc-toc { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px) }</style><meta name="twitter:title" content="Joys Of Apex | Lightning Web Components Composable Pagination"><meta property="og:type" content="article"><meta property="og:title" content="Joys Of Apex | Lightning Web Components Composable Pagination"></head><body><header style="margin-left: 1rem">Read more at <a href="https://wwww.jamessimone.net">jamessimone.net</a>, or return to the <a href="/joys-of-apex/">homepage</a></header><div id="-codedoc-container" class="container"><script>window.source = {"base":"posts","path":"lwc-composable-pagination.md","namespace":"/joys-of-apex","title":{"base":"Joys Of Apex","connector":" | "}}</script><div class="hero-0-0-8" style="margin-bottom: -156px"><img src="/joys-of-apex/img/the-joys-of-apex.png" class="image-0-0-9" data-hero=""><span class="caption-0-0-10"></span></div><marker><br>
<br>
<br>
<br>
<br>

</marker><h1 class="h-0-0-11 "><span style="color: green; 
      text-shadow: none; 
      font-size: 48px"><p>Lightning Web Components Composable Pagination</p></span></h1><script id="FpFZfVTYcM">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("FpFZfVTYcM", "kRzsgnV+B7EQTskbovy+YA==", {"src":"github","date":"2020-06-03T15:12:03.284Z"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div hidden="" data-ignore-text="" data-meta-override-property="og:image"><p>./img/joys-of-apex-thumbnail.png</p></div><p>Let's talk about pagination -- one of the common challenges in frontend development, particularly in the mobile-first world of consumer-facing web development, is in reducing the amount of vertical scrolling that your target audience is responsible for. As well, complicated DOM trees and long lists of elements being rendered tends to slow down browsers. Pagination solves both of these concerns by conditionally rendering elements on-screen, hiding the rest until the next page is requested by the user.</p><p>In this article, you'll learn how to implement pagination properly in LWC, and unlock the potential of composable Lightning Web Components in the process. Composition over inheritance is one of the most crucial concepts in Object-Oriented Programming, but the Lightning Web Components documentation doesn't give newer developers enough in the way of resources when it comes to building a complicated, reusable component -- exactly what we'd like to do when implementing pagination. Indeed, the <a href="https://github.com/trailheadapps/lwc-recipes/tree/master/force-app/main/default/lwc/paginator">"paginator" component shown on the Trailhead LWC github</a> is so barebones that I feel bad imagining somebody tasked with implementing a paginating component using that as a starting point.</p><p>Let's get started:</p><h2 id="slot-based-composition" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Slot-Based Composition</h2><p>In order to understand how the Web Components framework -- which Salesforce has embraced with Lightning Web Components -- enables the use of composition to create larger components from reusable component "blocks", it's important to review the basics of the <code>&lt;slot&gt;&lt;/slot&gt;</code>-based system. Consider the following LWC HTML markup:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <section>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <h1>{title}<h1>"><span class="lineCounter-0-0-15">3</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <slot></slot>"><span class="lineCounter-0-0-15">4</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </section>"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>Paired with your garden-variety JS:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">2</span></div><br><div class="line-0-0-16 " data-content="export default class TitleComponent extends LightningElement {"><span class="lineCounter-0-0-15">3</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">TitleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @api title;"><span class="lineCounter-0-0-15">4</span>  @api title<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">5</span><span class="token punctuation">}</span></div><br></code></pre><p>Now, in another LWC, you would add the remainder of your HTML-markup while making use of the header, and the <code>&lt;slot&gt;</code> is replaced by that markup:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <c-titlecomponent title=&quot;Hello World&quot;>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>c-titlecomponent</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Hello World<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <div>"><span class="lineCounter-0-0-15">3</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <!-- the contents here would replace the <slot> -->"><span class="lineCounter-0-0-15">4</span>      <span class="token comment">&lt;!-- the contents here would replace the &lt;slot&gt; --&gt;</span></div><br><div class="line-0-0-16 " data-content="    </div>"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </c-titlecomponent>"><span class="lineCounter-0-0-15">6</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>c-titlecomponent</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">7</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>In short, slot-based composition allows us to access the public properties/methods of components to inject the HTML that we want without duplicating the same markup everywhere. By itself, this example is a little too abstract -- let's begin with a more concrete example. You might remember from the <a href="/joys-of-apex/react-versus-lightning-web-components/">React Versus Lightning Web Components</a> article that there I introduced a simple "FAQ" component to compare between the two web frameworks. If you haven't read it, or as a reminder, here's what the example FAQ component ends up looking like:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <template if:true=&quot;{faqs.data}&quot;>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">if:</span>true</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <h1"><span class="lineCounter-0-0-15">3</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span></span></div><br><div class="line-0-0-16 " data-content="      class=&quot;slds-text-heading_large slds-align_absolute-center slds-m-top_small&quot;"><span class="lineCounter-0-0-15">4</span>      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-text-heading_large slds-align_absolute-center slds-m-top_small<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="    >"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="      {title}"><span class="lineCounter-0-0-15">6</span>      {title}</div><br><div class="line-0-0-16 " data-content="    </h1>"><span class="lineCounter-0-0-15">7</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <template for:each=&quot;{faqs.data}&quot; for:item=&quot;faq&quot;>"><span class="lineCounter-0-0-15">8</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">for:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">for:</span>item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>faq<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <lightning-accordion allow-multiple-sections-open key=&quot;{faq.key}&quot;>"><span class="lineCounter-0-0-15">9</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-accordion</span> <span class="token attr-name">allow-multiple-sections-open</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.key}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="        <lightning-accordion-section name=&quot;{faq.key}&quot; label=&quot;{faq.question}&quot;>"><span class="lineCounter-0-0-15 prim">10</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-accordion-section</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.key}<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.question}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="          <small>{faq.answer}</small>"><span class="lineCounter-0-0-15">11</span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>{faq.answer}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="        </lightning-accordion-section>"><span class="lineCounter-0-0-15">12</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-accordion-section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      </lightning-accordion>"><span class="lineCounter-0-0-15">13</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-accordion</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </template>"><span class="lineCounter-0-0-15">14</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </template>"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">16</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>And the JS:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement, wire } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> wire <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//just a stub method, returns 100 FAQs"><span class="lineCounter-0-0-15">2</span><span class="token comment">//just a stub method, returns 100 FAQs</span></div><br><div class="line-0-0-16 " data-content="import getFAQs from &quot;@salesforce/apex/FAQController.getFAQs&quot;;"><span class="lineCounter-0-0-15">3</span><span class="token keyword">import</span> getFAQs <span class="token keyword">from</span> <span class="token string">"@salesforce/apex/FAQController.getFAQs"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="export default class FAQList extends LightningElement {"><span class="lineCounter-0-0-15 prim">5</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FAQList</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @api title = &quot;FAQs&quot;;"><span class="lineCounter-0-0-15">6</span>  @api title <span class="token operator">=</span> <span class="token string">"FAQs"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @wire(getFAQs) faqs;"><span class="lineCounter-0-0-15">7</span>  @<span class="token function">wire</span><span class="token punctuation">(</span>getFAQs<span class="token punctuation">)</span> faqs<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">8</span><span class="token punctuation">}</span></div><br></code></pre><p><img src="/joys-of-apex/img/joys-of-apex-lightning-web-component-faq.JPG" alt="Lightning Web Components FAQ example"></p><p>You could imagine this component being used in a Salesforce Community page -- there's just one problem. In the example, the FAQ is populated with a hard-coded list of 100 frequently asked questions. While that may be going a bit overboard, the fact remains that the FAQ component quickly grows too big to display on anything other than a tabbed flexipage; it dominates other components in the same view.</p><h2 id="starting-to-paginate" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Starting To Paginate</h2><p>Let's introduce the concept of a wrapper pagination component using the power of <code>&lt;slot&gt;</code>s to begin reducing the viewport size of the FAQ component. We'll also move the <code>title</code> property over to this wrapper. In the beginning, it's going to need a clearly defined viewable section, and buttons to move through the current list of pages. We'll walk through setting up the dynamically generated list of pages later:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <section>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <div class=&quot;page-data-container&quot;>"><span class="lineCounter-0-0-15">3</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-data-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <h1"><span class="lineCounter-0-0-15">4</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span></span></div><br><div class="line-0-0-16 " data-content="        class=&quot;slds-text-heading_large slds-align_absolute-center slds-m-top_small&quot;"><span class="lineCounter-0-0-15 prim">5</span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-text-heading_large slds-align_absolute-center slds-m-top_small<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">6</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="        {title}"><span class="lineCounter-0-0-15">7</span>        {title}</div><br><div class="line-0-0-16 " data-content="      </h1>"><span class="lineCounter-0-0-15">8</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <!-- the crucial slot -->"><span class="lineCounter-0-0-15">9</span>      <span class="token comment">&lt;!-- the crucial slot --&gt;</span></div><br><div class="line-0-0-16 " data-content="      <slot></slot>"><span class="lineCounter-0-0-15 prim">10</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </div>"><span class="lineCounter-0-0-15">11</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <div class=&quot;page-data-container&quot;>"><span class="lineCounter-0-0-15">12</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-data-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <lightning-button-icon"><span class="lineCounter-0-0-15">13</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="        alternative-text=&quot;Previous&quot;"><span class="lineCounter-0-0-15">14</span>        <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Previous<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15 prim">15</span>        <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-name=&quot;utility:chevronleft&quot;"><span class="lineCounter-0-0-15">16</span>        <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronleft<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        variant=&quot;bare&quot;"><span class="lineCounter-0-0-15">17</span>        <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">18</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="      </lightning-button-icon>"><span class="lineCounter-0-0-15">19</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <lightning-button-icon"><span class="lineCounter-0-0-15 prim">20</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="        alternative-text=&quot;Next&quot;"><span class="lineCounter-0-0-15">21</span>        <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Next<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        class=&quot;slds-float_right&quot;"><span class="lineCounter-0-0-15">22</span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-float_right<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15">23</span>        <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-name=&quot;utility:chevronright&quot;"><span class="lineCounter-0-0-15">24</span>        <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronright<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        variant=&quot;bare&quot;"><span class="lineCounter-0-0-15 prim">25</span>        <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">26</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="      </lightning-button-icon>"><span class="lineCounter-0-0-15">27</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </div>"><span class="lineCounter-0-0-15">28</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </section>"><span class="lineCounter-0-0-15">29</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">30</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>The JS:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement, track } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> track <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">2</span></div><br><div class="line-0-0-16 " data-content="export default class Pager extends LightningElement {"><span class="lineCounter-0-0-15">3</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Pager</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @api pagedata = [];"><span class="lineCounter-0-0-15">4</span>  @api pagedata <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @api title = &quot;&quot;;"><span class="lineCounter-0-0-15 prim">5</span>  @api title <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @track currentPageIndex = 0;"><span class="lineCounter-0-0-15">6</span>  @track currentPageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @track maxNumberOfPages = 0;"><span class="lineCounter-0-0-15">7</span>  @track maxNumberOfPages <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  //later, we might make this a configurable property"><span class="lineCounter-0-0-15">8</span>  <span class="token comment">//later, we might make this a configurable property</span></div><br><div class="line-0-0-16 " data-content="  //hard-coding for now"><span class="lineCounter-0-0-15">9</span>  <span class="token comment">//hard-coding for now</span></div><br><div class="line-0-0-16 " data-content="  MAX_PAGES_TO_SHOW = 5;"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">11</span></div><br><div class="line-0-0-16 " data-content="  renderedCallback() {"><span class="lineCounter-0-0-15">12</span>  <span class="token function">renderedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.maxNumberOfPages = !!this.pagedata ? this.pagedata.length : 0;"><span class="lineCounter-0-0-15">13</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>pagedata <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">14</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">15</span><span class="token punctuation">}</span></div><br></code></pre><p>And the CSS:</p><pre class=""><code class="css code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content=":host {"><span class="lineCounter-0-0-15 prim">1</span><span class="token selector">:host</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  --white: rgb(255, 255, 255);"><span class="lineCounter-0-0-15">2</span>  <span class="token property">--white</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">3</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content=".page-data-container {"><span class="lineCounter-0-0-15 prim">5</span><span class="token selector">.page-data-container</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  background-color: var(--white);"><span class="lineCounter-0-0-15">6</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--white<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  max-height: 400px;"><span class="lineCounter-0-0-15">7</span>  <span class="token property">max-height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  overflow: hidden;"><span class="lineCounter-0-0-15">8</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">9</span><span class="token punctuation">}</span></div><br></code></pre><p>Now all we need to do is update our FAQ component to pass the data into the pager:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <template if:true=&quot;{faqs.data}&quot;>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">if:</span>true</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <c-pager pagedata=&quot;{faqs.data}&quot; title=&quot;FAQ&quot;>"><span class="lineCounter-0-0-15">3</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>c-pager</span> <span class="token attr-name">pagedata</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>FAQ<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <template for:each=&quot;{faqs.data}&quot; for:item=&quot;faq&quot;>"><span class="lineCounter-0-0-15">4</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">for:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">for:</span>item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>faq<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="        <lightning-accordion allow-multiple-sections-open key=&quot;{faq.key}&quot;>"><span class="lineCounter-0-0-15 prim">5</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-accordion</span> <span class="token attr-name">allow-multiple-sections-open</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.key}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="          <lightning-accordion-section name=&quot;{faq.key}&quot; label=&quot;{faq.question}&quot;>"><span class="lineCounter-0-0-15">6</span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-accordion-section</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.key}<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faq.question}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="            <small>{faq.answer}</small>"><span class="lineCounter-0-0-15">7</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>{faq.answer}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="          </lightning-accordion-section>"><span class="lineCounter-0-0-15">8</span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-accordion-section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="        </lightning-accordion>"><span class="lineCounter-0-0-15">9</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-accordion</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      </template>"><span class="lineCounter-0-0-15 prim">10</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </c-pager>"><span class="lineCounter-0-0-15">11</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>c-pager</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </template>"><span class="lineCounter-0-0-15">12</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">13</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>That gives us this:</p><p><img src="/joys-of-apex/img/joys-of-apex-lightning-web-component-pager.JPG" alt="Early version of the pager"></p><p>There's only one problem (well, there's a lot of problems, actually, but let's take it piece-by-piece): all 100 of the FAQs are actually on the page at the moment; they're just hidden due to the <code>overflow: hidden</code> CSS property being applied. At the moment, there exists a crucial disconnect between the data being passed in by the <code>@track</code> Apex API call and the <em>output</em> of the component; the pager doesn't receive the rendered markdown in its <code>pagedata</code> property, but rather the raw data. Because we want this component to be generic, we have to prevent the pager from <em>knowing</em> about the internals of the markdown that will be produced. This means that we don't need the pager to know that (in this case) a big list of <code>&lt;lightning-accordion-section&gt;</code>s will be part of the output; what we <em>do</em> need is to have the pager act as the middleman between the data being returned by Apex and the data that the component will use.</p><h2 id="starting-to-actually-paginate" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Starting To Actually Paginate</h2><p>In order to do so, we'll need to slightly re-work the pager's JavaScript controller:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in pager.js"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in pager.js</span></div><br><div class="line-0-0-16 " data-content="//..."><span class="lineCounter-0-0-15">2</span><span class="token comment">//...</span></div><br><div class="line-0-0-16 " data-content="@api"><span class="lineCounter-0-0-15">3</span>@api</div><br><div class="line-0-0-16 " data-content="get currentlyShown() {"><span class="lineCounter-0-0-15">4</span><span class="token keyword">get</span> <span class="token function">currentlyShown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  return this.pagedata.slice("><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="    this.MAX_PAGES_TO_SHOW * this.currentPageIndex,"><span class="lineCounter-0-0-15">6</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex<span class="token punctuation">,</span></div><br><div class="line-0-0-16 " data-content="    this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">7</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="  );"><span class="lineCounter-0-0-15">8</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">9</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="//..."><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//...</span></div><br></code></pre><p>Oh baby. Now we're cooking with gas! Luckily, <code>Array.prototype.slice</code> actually handles sensibly the edge cases for overflowing the array; we don't need to worry about the second argument being greater than the length of the array -- if it is, <code>slice</code> will just return all of the elements up till the end of the list. There are some pagination-specific edge cases that will need to be tweaked on this property-getter, but this initial logic will do for the moment -- we've got bigger fish to fry! Our child components will need to hook into this publicly-exposed method in order to drive their <code>for:each</code> HTML template directive, making it necessary to update the contents of the FAQ component:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<!-- in faq.html -->"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">&lt;!-- in faq.html --&gt;</span></div><br><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <template if:true=&quot;{faqs.data}&quot;>"><span class="lineCounter-0-0-15">3</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">if:</span>true</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <c-pager class=&quot;pager&quot; pagedata=&quot;{faqs.data}&quot; title=&quot;FAQ&quot;>"><span class="lineCounter-0-0-15">4</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>c-pager</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pager<span class="token punctuation">"</span></span> <span class="token attr-name">pagedata</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>FAQ<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <template for:each=&quot;{currentlyVisible}&quot; for:item=&quot;faq&quot;>"><span class="lineCounter-0-0-15 prim">5</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">for:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{currentlyVisible}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">for:</span>item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>faq<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="        <!-- etc ... -->"><span class="lineCounter-0-0-15">6</span>        <span class="token comment">&lt;!-- etc ... --&gt;</span></div><br><div class="line-0-0-16 " data-content="      </template></c-pager"><span class="lineCounter-0-0-15">7</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>c-pager</span></span></div><br><div class="line-0-0-16 " data-content="    ></template"><span class="lineCounter-0-0-15">8</span>    <span class="token punctuation">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span></span></div><br><div class="line-0-0-16 " data-content="  ></template"><span class="lineCounter-0-0-15">9</span>  <span class="token punctuation">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span></span></div><br><div class="line-0-0-16 " data-content=">"><span class="lineCounter-0-0-15 prim">10</span><span class="token punctuation">&gt;</span></div><br></code></pre><h3 id="an-aside-on-lwc-lifecycle-hooks" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>An Aside On LWC Lifecycle Hooks</h3><p>Note that the <code>for:each</code> template directive is being driven by a new property, <code>currentlyVisible</code>. Let's step into the FAQ controller to see the rest:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement, wire } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> wire <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="import getFAQs from &quot;@salesforce/apex/FAQController.getFAQs&quot;;"><span class="lineCounter-0-0-15">2</span><span class="token keyword">import</span> getFAQs <span class="token keyword">from</span> <span class="token string">"@salesforce/apex/FAQController.getFAQs"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">3</span></div><br><div class="line-0-0-16 " data-content="export default class FAQList extends LightningElement {"><span class="lineCounter-0-0-15">4</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FAQList</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @wire(getFAQs) faqs;"><span class="lineCounter-0-0-15 prim">5</span>  @<span class="token function">wire</span><span class="token punctuation">(</span>getFAQs<span class="token punctuation">)</span> faqs<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">6</span></div><br><div class="line-0-0-16 " data-content="  @api currentlyVisible = [];"><span class="lineCounter-0-0-15">7</span>  @api currentlyVisible <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">8</span></div><br><div class="line-0-0-16 " data-content="  renderedCallback() {"><span class="lineCounter-0-0-15">9</span>  <span class="token function">renderedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.currentlyVisible = this.template.querySelector("><span class="lineCounter-0-0-15 prim">10</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentlyVisible <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      &quot;c-pager&quot;"><span class="lineCounter-0-0-15">11</span>      <span class="token string">"c-pager"</span></div><br><div class="line-0-0-16 " data-content="    ).currentlyShown;"><span class="lineCounter-0-0-15">12</span>    <span class="token punctuation">)</span><span class="token punctuation">.</span>currentlyShown<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">13</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">14</span><span class="token punctuation">}</span></div><br></code></pre><p>This exposes our first real hurdle in building the pager. The <code>renderedCallback</code> lifecycle method is <em>supposed</em> to be run on the parent component (the FAQ) when the child component (the pager) has finished rendering. Maybe there's an issue with the rendering lifecycle when it comes to slot-based components. Maybe the <a href="https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.create_lifecycle_hooks">Salesforce documentation on lifecycle hooks</a> is out of date. Maybe there's something else going on that a better developer than your narrator might be able to pinpoint (and shame on me, really, for assuming that the docs would lead the way). Whatever the case, the call to <code>this.template.querySelector("c-pager")</code> is hopelessly null during the <code>renderedCallback</code> lifecycle method.</p><p>To get around this, we'll have to fire a custom event from the pager that components making use of the pager will subscribe to; we also need to expose the currently visible elements as an array:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in pager.js"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in pager.js</span></div><br><div class="line-0-0-16 " data-content="  @api"><span class="lineCounter-0-0-15">2</span>  @api</div><br><div class="line-0-0-16 " data-content="  get currentlyShown() {"><span class="lineCounter-0-0-15">3</span>  <span class="token keyword">get</span> <span class="token function">currentlyShown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="//just your run-of-the-mill pagination edge cases"><span class="lineCounter-0-0-15">4</span><span class="token comment">//just your run-of-the-mill pagination edge cases</span></div><br><div class="line-0-0-16 " data-content="    const potentialPageStartingRange ="><span class="lineCounter-0-0-15 prim">5</span>    <span class="token keyword">const</span> potentialPageStartingRange <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.MAX_PAGES_TO_SHOW * this.currentPageIndex >= this.pagedata.length"><span class="lineCounter-0-0-15">6</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length</div><br><div class="line-0-0-16 " data-content="        ? this.pagedata.length - this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">7</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="        : this.MAX_PAGES_TO_SHOW * this.currentPageIndex;"><span class="lineCounter-0-0-15">8</span>        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    const potentialPageEndingRange ="><span class="lineCounter-0-0-15">9</span>    <span class="token keyword">const</span> potentialPageEndingRange <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex === 0"><span class="lineCounter-0-0-15 prim">10</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">===</span> <span class="token number">0</span></div><br><div class="line-0-0-16 " data-content="        ? this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">11</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="        : potentialPageStartingRange + this.MAX_PAGES_TO_SHOW;"><span class="lineCounter-0-0-15">12</span>        <span class="token operator">:</span> potentialPageStartingRange <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">13</span></div><br><div class="line-0-0-16 " data-content="    return this.pagedata.slice("><span class="lineCounter-0-0-15">14</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      potentialPageStartingRange,"><span class="lineCounter-0-0-15 prim">15</span>      potentialPageStartingRange<span class="token punctuation">,</span></div><br><div class="line-0-0-16 " data-content="      potentialPageEndingRange"><span class="lineCounter-0-0-15">16</span>      potentialPageEndingRange</div><br><div class="line-0-0-16 " data-content="    );"><span class="lineCounter-0-0-15">17</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">18</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">19</span></div><br><div class="line-0-0-16 " data-content="  renderedCallback() {"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token function">renderedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.maxNumberOfPages = !!this.pagedata"><span class="lineCounter-0-0-15">21</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>pagedata</div><br><div class="line-0-0-16 " data-content="      ? this.pagedata.length / this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">22</span>      <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="      : 0;"><span class="lineCounter-0-0-15">23</span>      <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15">24</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">25</span>  <span class="token punctuation">}</span></div><br></code></pre><p>And then in the FAQ:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<!-- ... -->"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">&lt;!-- ... --&gt;</span></div><br><div class="line-0-0-16 " data-content="<c-pager"><span class="lineCounter-0-0-15">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>c-pager</span></span></div><br><div class="line-0-0-16 " data-content="  class=&quot;pager&quot;"><span class="lineCounter-0-0-15">3</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pager<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  pagedata=&quot;{faqs.data}&quot;"><span class="lineCounter-0-0-15">4</span>  <span class="token attr-name">pagedata</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{faqs.data}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  title=&quot;FAQ&quot;"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>FAQ<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  onpagerchanged=&quot;{handlePagerChange}&quot;"><span class="lineCounter-0-0-15">6</span>  <span class="token attr-name">onpagerchanged</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handlePagerChange}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="></c-pager>"><span class="lineCounter-0-0-15">7</span><span class="token punctuation">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>c-pager</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="<!-- ... -->"><span class="lineCounter-0-0-15 prim">8</span><span class="token comment">&lt;!-- ... --&gt;</span></div><br></code></pre><p>And in the FAQ's controller:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement, wire } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> wire <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="import getFAQs from &quot;@salesforce/apex/FAQController.getFAQs&quot;;"><span class="lineCounter-0-0-15">2</span><span class="token keyword">import</span> getFAQs <span class="token keyword">from</span> <span class="token string">"@salesforce/apex/FAQController.getFAQs"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">3</span></div><br><div class="line-0-0-16 " data-content="const PAGER_NAME = &quot;c-pager&quot;;"><span class="lineCounter-0-0-15">4</span><span class="token keyword">const</span> <span class="token constant">PAGER_NAME</span> <span class="token operator">=</span> <span class="token string">"c-pager"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">5</span></div><br><div class="line-0-0-16 " data-content="export default class FAQList extends LightningElement {"><span class="lineCounter-0-0-15">6</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FAQList</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @wire(getFAQs) faqs;"><span class="lineCounter-0-0-15">7</span>  @<span class="token function">wire</span><span class="token punctuation">(</span>getFAQs<span class="token punctuation">)</span> faqs<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  _currentlyVisible = [];"><span class="lineCounter-0-0-15">8</span>  _currentlyVisible <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">9</span></div><br><div class="line-0-0-16 " data-content="  _getPagesOrDefault() {"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token function">_getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const pager = this.template.querySelector(PAGER_NAME);"><span class="lineCounter-0-0-15">11</span>    <span class="token keyword">const</span> pager <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token constant">PAGER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    return !!pager ? pager.currentlyShown : [];"><span class="lineCounter-0-0-15">12</span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>pager <span class="token operator">?</span> pager<span class="token punctuation">.</span>currentlyShown <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">13</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">14</span></div><br><div class="line-0-0-16 " data-content="  @api"><span class="lineCounter-0-0-15 prim">15</span>  @api</div><br><div class="line-0-0-16 " data-content="  get currentlyVisible() {"><span class="lineCounter-0-0-15">16</span>  <span class="token keyword">get</span> <span class="token function">currentlyVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const pages = this._getPagesOrDefault();"><span class="lineCounter-0-0-15">17</span>    <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    return pages.length === 0 ? this._currentlyVisible : pages;"><span class="lineCounter-0-0-15">18</span>    <span class="token keyword">return</span> pages<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_currentlyVisible <span class="token operator">:</span> pages<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">19</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set currentlyVisible(value) {"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token keyword">set</span> <span class="token function">currentlyVisible</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this._currentlyVisible = value;"><span class="lineCounter-0-0-15">21</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_currentlyVisible <span class="token operator">=</span> value<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">22</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">23</span></div><br><div class="line-0-0-16 " data-content="  handlePagerChanged() {"><span class="lineCounter-0-0-15">24</span>  <span class="token function">handlePagerChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.currentlyVisible = this._getPagesOrDefault();"><span class="lineCounter-0-0-15 prim">25</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentlyVisible <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">26</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">27</span><span class="token punctuation">}</span></div><br></code></pre><p>Great. We're back on track. The FAQ now loads the first five elements correctly. In a truly shared library, I would probably be importing this <code>handlePagerChange</code> function from a <code>utils</code> folder, or other shared-logic namespace. You can accomplish this in a variety of ways, but as an example:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in utils/pagerUtils.js"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in utils/pagerUtils.js</span></div><br><div class="line-0-0-16 " data-content="const PAGER_NAME = &quot;c-pager&quot;;"><span class="lineCounter-0-0-15">2</span><span class="token keyword">const</span> <span class="token constant">PAGER_NAME</span> <span class="token operator">=</span> <span class="token string">"c-pager"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">3</span></div><br><div class="line-0-0-16 " data-content="export function getPagesOrDefault() {"><span class="lineCounter-0-0-15">4</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  const pager = this.template.querySelector(PAGER_NAME);"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">const</span> pager <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token constant">PAGER_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  return !!pager ? pager.currentlyShown : [];"><span class="lineCounter-0-0-15">6</span>  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>pager <span class="token operator">?</span> pager<span class="token punctuation">.</span>currentlyShown <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">7</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">8</span></div><br><div class="line-0-0-16 " data-content="export function handlePagerChanged() {"><span class="lineCounter-0-0-15">9</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">handlePagerChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  this.currentlyVisible = this.getPagesOrDefault();"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>currentlyVisible <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">11</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">12</span></div><br><div class="line-0-0-16 " data-content="//in pager.js"><span class="lineCounter-0-0-15">13</span><span class="token comment">//in pager.js</span></div><br><div class="line-0-0-16 " data-content="import { api, LightningElement, wire } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15">14</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> wire <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="import getFAQs from &quot;@salesforce/apex/FAQController.getFAQs&quot;;"><span class="lineCounter-0-0-15 prim">15</span><span class="token keyword">import</span> getFAQs <span class="token keyword">from</span> <span class="token string">"@salesforce/apex/FAQController.getFAQs"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="import { getPagesOrDefault, handlePagerChanged } from &quot;c/pagerUtils&quot;;"><span class="lineCounter-0-0-15">16</span><span class="token keyword">import</span> <span class="token punctuation">{</span> getPagesOrDefault<span class="token punctuation">,</span> handlePagerChanged <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"c/pagerUtils"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">17</span></div><br><div class="line-0-0-16 " data-content="export default class FAQList extends LightningElement {"><span class="lineCounter-0-0-15">18</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FAQList</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @wire(getFAQs) faqs;"><span class="lineCounter-0-0-15">19</span>  @<span class="token function">wire</span><span class="token punctuation">(</span>getFAQs<span class="token punctuation">)</span> faqs<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  _currentlyVisible = [];"><span class="lineCounter-0-0-15 prim">20</span>  _currentlyVisible <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">21</span></div><br><div class="line-0-0-16 " data-content="  getPagesOrDefault = getPagesOrDefault.bind(this);"><span class="lineCounter-0-0-15">22</span>  getPagesOrDefault <span class="token operator">=</span> <span class="token function">getPagesOrDefault</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  handlePagerChanged = handlePagerChanged.bind(this);"><span class="lineCounter-0-0-15">23</span>  handlePagerChanged <span class="token operator">=</span> <span class="token function">handlePagerChanged</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">24</span></div><br><div class="line-0-0-16 " data-content="  @api"><span class="lineCounter-0-0-15 prim">25</span>  @api</div><br><div class="line-0-0-16 " data-content="  get currentlyVisible() {"><span class="lineCounter-0-0-15">26</span>  <span class="token keyword">get</span> <span class="token function">currentlyVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const pages = this.getPagesOrDefault();"><span class="lineCounter-0-0-15">27</span>    <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPagesOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    return pages.length === 0 ? this._currentlyVisible : pages;"><span class="lineCounter-0-0-15">28</span>    <span class="token keyword">return</span> pages<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_currentlyVisible <span class="token operator">:</span> pages<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">29</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set currentlyVisible(value) {"><span class="lineCounter-0-0-15 prim">30</span>  <span class="token keyword">set</span> <span class="token function">currentlyVisible</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this._currentlyVisible = value;"><span class="lineCounter-0-0-15">31</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_currentlyVisible <span class="token operator">=</span> value<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">32</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">33</span><span class="token punctuation">}</span></div><br></code></pre><p>Since every consumer of the pager will need to use it, it's also tempting to derive another base component that extends off of <code>LightningElement</code>. That would be a framework-level trap, unfortunately, as is evidenced by this sage tip dispensed within the LWC docs:</p><blockquote><p>Inheritance is allowed, but it isnt recommended because composition is usually more effective. To share logic between components, use a module that contains only logic. If you do choose to use inheritance, note that it doesnt work across namespaces.</p></blockquote><p>Unlucky. Solving for greater code reusability between components is one of the framework-level issues that I would really like to see improved upon in Lightning Web Components, especially because the <code>@api</code> decorated getters and setters for functions can't be shared between components. Now, to make use of <code>c-pager</code>, I have this unwieldy coupling between:</p><ul><li>a public property, <code>currentlyVisible</code>, which has to exist (regardless of what it is called) on each parent component</li><li>a private backing property, <code>_currentlyVisible</code> (which is necessary to prevent an infinite loop) ...</li><li>the setter for that property, <code>handlePagerChange</code>, as well as the implicit coupling between this handler function and the event being emitted from the pager</li></ul><p>React "solved" this problem with higher-ordered components and higher-ordered (curried, really) functions. Since I don't have the option of enforcing this property to exist on each component making use of the pager, I will just leave off by saying that it makes the compositional re-use of a component like this more verbose than should really be necessary.</p><h3 id="returning-to-pagination" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Returning To Pagination</h3><p>To get the bare minimum necessary to paginate (now that the data is being properly filtered by the pager), all we need to do is wire up some click handlers for the pager's next and previous buttons and emit the same <code>pagerchanged</code> event. Compared to the hoops we just jumped through, this is a walk in the park!</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<!-- in pager.html -->"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">&lt;!-- in pager.html --&gt;</span></div><br><div class="line-0-0-16 " data-content="<lightning-button-icon"><span class="lineCounter-0-0-15">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="  alternative-text=&quot;Previous&quot;"><span class="lineCounter-0-0-15">3</span>  <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Previous<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  class=&quot;slds-float_left&quot;"><span class="lineCounter-0-0-15">4</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-float_left<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  icon-name=&quot;utility:chevronleft&quot;"><span class="lineCounter-0-0-15">6</span>  <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronleft<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  onclick=&quot;{handlePrevious}&quot;"><span class="lineCounter-0-0-15">7</span>  <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handlePrevious}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  variant=&quot;bare&quot;"><span class="lineCounter-0-0-15">8</span>  <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content=">"><span class="lineCounter-0-0-15">9</span><span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="</lightning-button-icon>"><span class="lineCounter-0-0-15 prim">10</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="<lightning-button-icon"><span class="lineCounter-0-0-15">11</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="  alternative-text=&quot;Next&quot;"><span class="lineCounter-0-0-15">12</span>  <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Next<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  class=&quot;slds-float_right&quot;"><span class="lineCounter-0-0-15">13</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-float_right<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15">14</span>  <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  icon-name=&quot;utility:chevronright&quot;"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronright<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  onclick=&quot;{handleNext}&quot;"><span class="lineCounter-0-0-15">16</span>  <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handleNext}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="  variant=&quot;bare&quot;"><span class="lineCounter-0-0-15">17</span>  <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="></lightning-button-icon>"><span class="lineCounter-0-0-15 prim">18</span><span class="token punctuation">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>You can probably guess what the click handlers look like:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in pager.js"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in pager.js</span></div><br><div class="line-0-0-16 " data-content="handlePrevious() {"><span class="lineCounter-0-0-15">2</span><span class="token function">handlePrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  this.currentPageIndex ="><span class="lineCounter-0-0-15">3</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="    this.currentPageIndex > 0 ? this.currentPageIndex - 1 : 0;"><span class="lineCounter-0-0-15">4</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">6</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">7</span></div><br><div class="line-0-0-16 " data-content="handleNext() {"><span class="lineCounter-0-0-15">8</span><span class="token function">handleNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  this.currentPageIndex ="><span class="lineCounter-0-0-15">9</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="    this.currentPageIndex < this.maxNumberOfPages"><span class="lineCounter-0-0-15 prim">10</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="      ? this.currentPageIndex + 1"><span class="lineCounter-0-0-15">11</span>      <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">+</span> <span class="token number">1</span></div><br><div class="line-0-0-16 " data-content="      : this.maxNumberOfPages;"><span class="lineCounter-0-0-15">12</span>      <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15">13</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">14</span><span class="token punctuation">}</span></div><br></code></pre><p>The bare minimum pager now has the following concepts encapsulated:</p><ul><li>ability to dispatch currently visible items to parent components</li><li>previous/next buttons to allow for paging between items</li><li>the logic necessary to prevent overflowing the items in either direction (previous/next)</li></ul><p>That's pretty nice -- and it might be enough for your use-case. Still, I think it would be hard to argue that a classic paging component was finished without the intermediary pages available.</p><h2 id="setting-up-page-ranges" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Setting Up Page Ranges</h2><p>Are you familiar with the Pareto Principle? As a student of economics, Vilfredo Pareto's observations are widely discussed in classrooms. It was somewhat surprising that when I entered the world of software engineering, I found Pareto there waiting for me. Generally speaking, Pareto's principle can be stated as:</p><blockquote><p>80% of the functionality comes from 20% of the work.</p></blockquote><p>As I sat writing the pager for this article, I was reminded of Pareto. I've done pagination a handful of times now, and there's always some part of it that ends up being a bit more difficult than the other parts. Showing the page ranges in a satisfying way ended up being that "more difficult" part of this journey. Partially this was because I originally chose to exhibit the page ranges using <code>lightning-button</code> components; they looked great, but if you've used SLDS, you'll know you can't reliably override the base SLDS styles. The base <code>lightning-button</code> component also doesn't support the <code>slds-is-active</code> stateful representation of clicked/unclicked. The <em>stateful</em> buttons require the use of an icon; while there are some <a href="https://www.lightningdesignsystem.com/icons/">really tremendous icons in the Lightning Design System</a>, there aren't any that represent numbers, making them ill-suited for our use-case in displaying page numbers. In any case, I ended up going with the plain HTML button to represent the pager's page ranges:</p><p><img src="/joys-of-apex/img/joys-of-apex-lightning-web-component-page-ranges.JPG" alt="Showing the page ranges for the LWC"></p><p>So what did the implementation end up looking like? Let's dive in, styles first:</p><pre class=""><code class="css code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content=":host {"><span class="lineCounter-0-0-15 prim">1</span><span class="token selector">:host</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  --white: rgb(255, 255, 255);"><span class="lineCounter-0-0-15">2</span>  <span class="token property">--white</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  --active: #f5edcc;"><span class="lineCounter-0-0-15">3</span>  <span class="token property">--active</span><span class="token punctuation">:</span> #f5edcc<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">4</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">5</span></div><br><div class="line-0-0-16 " data-content=".page-data-container {"><span class="lineCounter-0-0-15">6</span><span class="token selector">.page-data-container</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  background-color: var(--white);"><span class="lineCounter-0-0-15">7</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--white<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  max-height: 400px;"><span class="lineCounter-0-0-15">8</span>  <span class="token property">max-height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  overflow: hidden;"><span class="lineCounter-0-0-15">9</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">10</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">11</span></div><br><div class="line-0-0-16 " data-content="button {"><span class="lineCounter-0-0-15">12</span><span class="token selector">button</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  background-color: var(--white);"><span class="lineCounter-0-0-15">13</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--white<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  border: none;"><span class="lineCounter-0-0-15">14</span>  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  border-radius: 0.5rem;"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  padding: 5px 10px;"><span class="lineCounter-0-0-15">16</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">17</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">18</span></div><br><div class="line-0-0-16 " data-content=".active {"><span class="lineCounter-0-0-15">19</span><span class="token selector">.active</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  background-color: var(--active);"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--active<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">21</span><span class="token punctuation">}</span></div><br></code></pre><p>And the HTML:</p><pre class=""><code class="html code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="<template>"><span class="lineCounter-0-0-15 prim">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  <section>"><span class="lineCounter-0-0-15">2</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <div class=&quot;page-data-container&quot;>"><span class="lineCounter-0-0-15">3</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-data-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <h1"><span class="lineCounter-0-0-15">4</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span></span></div><br><div class="line-0-0-16 " data-content="        class=&quot;slds-text-heading_large slds-align_absolute-center slds-m-top_small&quot;"><span class="lineCounter-0-0-15 prim">5</span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-text-heading_large slds-align_absolute-center slds-m-top_small<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">6</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="        {title}"><span class="lineCounter-0-0-15">7</span>        {title}</div><br><div class="line-0-0-16 " data-content="      </h1>"><span class="lineCounter-0-0-15">8</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <slot></slot>"><span class="lineCounter-0-0-15">9</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </div>"><span class="lineCounter-0-0-15 prim">10</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    <div class=&quot;slds-align_absolute-center page-data-container&quot;>"><span class="lineCounter-0-0-15">11</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-align_absolute-center page-data-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <lightning-button-icon"><span class="lineCounter-0-0-15">12</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="        alternative-text=&quot;Previous&quot;"><span class="lineCounter-0-0-15">13</span>        <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Previous<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        class=&quot;slds-float_left&quot;"><span class="lineCounter-0-0-15">14</span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-float_left<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15 prim">15</span>        <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-name=&quot;utility:chevronleft&quot;"><span class="lineCounter-0-0-15">16</span>        <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronleft<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        onclick=&quot;{handlePrevious}&quot;"><span class="lineCounter-0-0-15">17</span>        <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handlePrevious}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        variant=&quot;bare&quot;"><span class="lineCounter-0-0-15">18</span>        <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">19</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="      </lightning-button-icon>"><span class="lineCounter-0-0-15 prim">20</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <template"><span class="lineCounter-0-0-15">21</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span></span></div><br><div class="line-0-0-16 " data-content="        for:each=&quot;{currentVisiblePageRanges}&quot;"><span class="lineCounter-0-0-15">22</span>        <span class="token attr-name"><span class="token namespace">for:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{currentVisiblePageRanges}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        for:item=&quot;currentlyVisible&quot;"><span class="lineCounter-0-0-15">23</span>        <span class="token attr-name"><span class="token namespace">for:</span>item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentlyVisible<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">24</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="        <button"><span class="lineCounter-0-0-15 prim">25</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span></span></div><br><div class="line-0-0-16 " data-content="          class=&quot;page-index slds-m-around_x-small&quot;"><span class="lineCounter-0-0-15">26</span>          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-index slds-m-around_x-small<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="          key=&quot;{currentlyVisible}&quot;"><span class="lineCounter-0-0-15">27</span>          <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{currentlyVisible}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="          onclick=&quot;{handleClick}&quot;"><span class="lineCounter-0-0-15">28</span>          <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handleClick}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="          title=&quot;{currentlyVisible}&quot;"><span class="lineCounter-0-0-15">29</span>          <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{currentlyVisible}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        >"><span class="lineCounter-0-0-15 prim">30</span>        <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="          {currentlyVisible}"><span class="lineCounter-0-0-15">31</span>          {currentlyVisible}</div><br><div class="line-0-0-16 " data-content="        </button>"><span class="lineCounter-0-0-15">32</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      </template>"><span class="lineCounter-0-0-15">33</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="      <lightning-button-icon"><span class="lineCounter-0-0-15">34</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lightning-button-icon</span></span></div><br><div class="line-0-0-16 " data-content="        alternative-text=&quot;Next&quot;"><span class="lineCounter-0-0-15 prim">35</span>        <span class="token attr-name">alternative-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Next<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        class=&quot;slds-float_right&quot;"><span class="lineCounter-0-0-15">36</span>        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-float_right<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-class=&quot;slds-m-around_medium&quot;"><span class="lineCounter-0-0-15">37</span>        <span class="token attr-name">icon-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slds-m-around_medium<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        icon-name=&quot;utility:chevronright&quot;"><span class="lineCounter-0-0-15">38</span>        <span class="token attr-name">icon-name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utility:chevronright<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        onclick=&quot;{handleNext}&quot;"><span class="lineCounter-0-0-15">39</span>        <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{handleNext}<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="        variant=&quot;bare&quot;"><span class="lineCounter-0-0-15 prim">40</span>        <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bare<span class="token punctuation">"</span></span></div><br><div class="line-0-0-16 " data-content="      >"><span class="lineCounter-0-0-15">41</span>      <span class="token punctuation">&gt;</span></div><br><div class="line-0-0-16 " data-content="      </lightning-button-icon>"><span class="lineCounter-0-0-15">42</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lightning-button-icon</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="    </div>"><span class="lineCounter-0-0-15">43</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="  </section>"><span class="lineCounter-0-0-15">44</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></div><br><div class="line-0-0-16 " data-content="</template>"><span class="lineCounter-0-0-15 prim">45</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></div><br></code></pre><p>Now the next/previous buttons are grouped into the absolute center of the component, as you've seen, and we're using another <code>for:each</code> iterator to go through a <code>currentVisiblePageRanges</code> property. Let's take a look at the finished JS controller:</p><pre class=""><code class="javascript code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="import { api, LightningElement, track } from &quot;lwc&quot;;"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">import</span> <span class="token punctuation">{</span> api<span class="token punctuation">,</span> LightningElement<span class="token punctuation">,</span> track <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lwc"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">2</span></div><br><div class="line-0-0-16 " data-content="const IS_ACTIVE = &quot;active&quot;;"><span class="lineCounter-0-0-15">3</span><span class="token keyword">const</span> <span class="token constant">IS_ACTIVE</span> <span class="token operator">=</span> <span class="token string">"active"</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="export default class Pager extends LightningElement {"><span class="lineCounter-0-0-15 prim">5</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Pager</span> <span class="token keyword">extends</span> <span class="token class-name">LightningElement</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  @api pagedata = [];"><span class="lineCounter-0-0-15">6</span>  @api pagedata <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @api title = &quot;&quot;;"><span class="lineCounter-0-0-15">7</span>  @api title <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">8</span></div><br><div class="line-0-0-16 " data-content="  @track currentPageIndex = 0;"><span class="lineCounter-0-0-15">9</span>  @track currentPageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  @track maxNumberOfPages = 0;"><span class="lineCounter-0-0-15 prim">10</span>  @track maxNumberOfPages <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  MAX_PAGES_TO_SHOW = 5;"><span class="lineCounter-0-0-15">11</span>  <span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">12</span></div><br><div class="line-0-0-16 " data-content="  _pageRange = [];"><span class="lineCounter-0-0-15">13</span>  _pageRange <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">14</span></div><br><div class="line-0-0-16 " data-content="  @api"><span class="lineCounter-0-0-15 prim">15</span>  @api</div><br><div class="line-0-0-16 " data-content="  get currentlyShown() {"><span class="lineCounter-0-0-15">16</span>  <span class="token keyword">get</span> <span class="token function">currentlyShown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const currentPage = this.MAX_PAGES_TO_SHOW * this.currentPageIndex;"><span class="lineCounter-0-0-15">17</span>    <span class="token keyword">const</span> currentPage <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    const pageStartRange ="><span class="lineCounter-0-0-15">18</span>    <span class="token keyword">const</span> pageStartRange <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      currentPage >= this.pagedata.length"><span class="lineCounter-0-0-15">19</span>      currentPage <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length</div><br><div class="line-0-0-16 " data-content="        ? this.pagedata.length - this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15 prim">20</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="        : currentPage;"><span class="lineCounter-0-0-15">21</span>        <span class="token operator">:</span> currentPage<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    const pageEndRange ="><span class="lineCounter-0-0-15">22</span>    <span class="token keyword">const</span> pageEndRange <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex === 0"><span class="lineCounter-0-0-15">23</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">===</span> <span class="token number">0</span></div><br><div class="line-0-0-16 " data-content="        ? this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">24</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="        : pageStartRange + this.MAX_PAGES_TO_SHOW;"><span class="lineCounter-0-0-15 prim">25</span>        <span class="token operator">:</span> pageStartRange <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">26</span></div><br><div class="line-0-0-16 " data-content="    return this.pagedata.slice(pageStartRange, pageEndRange);"><span class="lineCounter-0-0-15">27</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>pageStartRange<span class="token punctuation">,</span> pageEndRange<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">28</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">29</span></div><br><div class="line-0-0-16 " data-content="  @api"><span class="lineCounter-0-0-15 prim">30</span>  @api</div><br><div class="line-0-0-16 " data-content="  get currentVisiblePageRanges() {"><span class="lineCounter-0-0-15">31</span>  <span class="token keyword">get</span> <span class="token function">currentVisiblePageRanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    if (this._pageRange.length === 0) {"><span class="lineCounter-0-0-15">32</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_pageRange<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      this._pageRange = this._fillRange("><span class="lineCounter-0-0-15">33</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>_pageRange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_fillRange</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="        this.currentPageIndex * this.MAX_PAGES_TO_SHOW,"><span class="lineCounter-0-0-15">34</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">,</span></div><br><div class="line-0-0-16 " data-content="        this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15 prim">35</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="      );"><span class="lineCounter-0-0-15">36</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">37</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    return this._pageRange;"><span class="lineCounter-0-0-15">38</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_pageRange<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">39</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set currentVisiblePageRanges(nextRange) {"><span class="lineCounter-0-0-15 prim">40</span>  <span class="token keyword">set</span> <span class="token function">currentVisiblePageRanges</span><span class="token punctuation">(</span><span class="token parameter">nextRange</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const lastPossibleRange ="><span class="lineCounter-0-0-15">41</span>    <span class="token keyword">const</span> lastPossibleRange <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      nextRange + this.MAX_PAGES_TO_SHOW > this.maxNumberOfPages"><span class="lineCounter-0-0-15">42</span>      nextRange <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        ? this.maxNumberOfPages"><span class="lineCounter-0-0-15">43</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        : nextRange + this.MAX_PAGES_TO_SHOW;"><span class="lineCounter-0-0-15">44</span>        <span class="token operator">:</span> nextRange <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this._pageRange = this._fillRange("><span class="lineCounter-0-0-15 prim">45</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_pageRange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_fillRange</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      lastPossibleRange - this.MAX_PAGES_TO_SHOW,"><span class="lineCounter-0-0-15">46</span>      lastPossibleRange <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">,</span></div><br><div class="line-0-0-16 " data-content="      lastPossibleRange"><span class="lineCounter-0-0-15">47</span>      lastPossibleRange</div><br><div class="line-0-0-16 " data-content="    );"><span class="lineCounter-0-0-15">48</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">49</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">50</span></div><br><div class="line-0-0-16 " data-content="  renderedCallback() {"><span class="lineCounter-0-0-15">51</span>  <span class="token function">renderedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.maxNumberOfPages = !!this.pagedata"><span class="lineCounter-0-0-15">52</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>pagedata</div><br><div class="line-0-0-16 " data-content="      ? this.pagedata.length / this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">53</span>      <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pagedata<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="      : 0;"><span class="lineCounter-0-0-15">54</span>      <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.currentShownPages ="><span class="lineCounter-0-0-15 prim">55</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentShownPages <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.maxNumberOfPages <= this.MAX_PAGES_TO_SHOW"><span class="lineCounter-0-0-15">56</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span></div><br><div class="line-0-0-16 " data-content="        ? this.maxNumberOfPages"><span class="lineCounter-0-0-15">57</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        : this.MAX_PAGES_TO_SHOW;"><span class="lineCounter-0-0-15">58</span>        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15">59</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    if ([...this.template.querySelectorAll(&quot;button.active&quot;)].length === 0) {"><span class="lineCounter-0-0-15 prim">60</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button.active"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      //first render"><span class="lineCounter-0-0-15">61</span>      <span class="token comment">//first render</span></div><br><div class="line-0-0-16 " data-content="      this._highlightPageButtonAtIndex(1);"><span class="lineCounter-0-0-15">62</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_highlightPageButtonAtIndex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">63</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">64</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">65</span></div><br><div class="line-0-0-16 " data-content="  handlePrevious() {"><span class="lineCounter-0-0-15">66</span>  <span class="token function">handlePrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.currentPageIndex ="><span class="lineCounter-0-0-15">67</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex > 0 ? this.currentPageIndex - 1 : 0;"><span class="lineCounter-0-0-15">68</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.currentVisiblePageRanges ="><span class="lineCounter-0-0-15">69</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentVisiblePageRanges <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex - 1 <= 0 ? 1 : this.currentPageIndex - 1;"><span class="lineCounter-0-0-15 prim">70</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15">71</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this._highlightPageButtonAtIndex("><span class="lineCounter-0-0-15">72</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_highlightPageButtonAtIndex</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex <= 0 ? 1 : this.currentPageIndex - 1"><span class="lineCounter-0-0-15">73</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">-</span> <span class="token number">1</span></div><br><div class="line-0-0-16 " data-content="    );"><span class="lineCounter-0-0-15">74</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">75</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">76</span></div><br><div class="line-0-0-16 " data-content="  handleNext() {"><span class="lineCounter-0-0-15">77</span>  <span class="token function">handleNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.currentPageIndex ="><span class="lineCounter-0-0-15">78</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex < this.maxNumberOfPages"><span class="lineCounter-0-0-15">79</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        ? this.currentPageIndex + 1"><span class="lineCounter-0-0-15 prim">80</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">+</span> <span class="token number">1</span></div><br><div class="line-0-0-16 " data-content="        : this.maxNumberOfPages;"><span class="lineCounter-0-0-15">81</span>        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.currentVisiblePageRanges ="><span class="lineCounter-0-0-15">82</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentVisiblePageRanges <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex <= this.maxNumberOfPages"><span class="lineCounter-0-0-15">83</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        ? this.currentPageIndex"><span class="lineCounter-0-0-15">84</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex</div><br><div class="line-0-0-16 " data-content="        : this.currentPageIndex + 1;"><span class="lineCounter-0-0-15 prim">85</span>        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dispatchEvent(new CustomEvent(&quot;pagerchanged&quot;));"><span class="lineCounter-0-0-15">86</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">"pagerchanged"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this._highlightPageButtonAtIndex("><span class="lineCounter-0-0-15">87</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_highlightPageButtonAtIndex</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      this.currentPageIndex >= this.maxNumberOfPages"><span class="lineCounter-0-0-15">88</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        ? this.maxNumberOfPages"><span class="lineCounter-0-0-15">89</span>        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxNumberOfPages</div><br><div class="line-0-0-16 " data-content="        : this.currentPageIndex + 1"><span class="lineCounter-0-0-15 prim">90</span>        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">+</span> <span class="token number">1</span></div><br><div class="line-0-0-16 " data-content="    );"><span class="lineCounter-0-0-15">91</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">92</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">93</span></div><br><div class="line-0-0-16 " data-content="  handleClick(event) {"><span class="lineCounter-0-0-15">94</span>  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.currentPageIndex = parseInt(event.target.innerHTML);"><span class="lineCounter-0-0-15 prim">95</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.currentVisiblePageRanges = this.currentPageIndex;"><span class="lineCounter-0-0-15">96</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentVisiblePageRanges <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentPageIndex<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this._clearCurrentlyActive();"><span class="lineCounter-0-0-15">97</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_clearCurrentlyActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    event.target.classList.toggle(IS_ACTIVE);"><span class="lineCounter-0-0-15">98</span>    event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token constant">IS_ACTIVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">99</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">100</span></div><br><div class="line-0-0-16 " data-content="  _clearCurrentlyActive() {"><span class="lineCounter-0-0-15">101</span>  <span class="token function">_clearCurrentlyActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const alreadySelected = ["><span class="lineCounter-0-0-15">102</span>    <span class="token keyword">const</span> alreadySelected <span class="token operator">=</span> <span class="token punctuation">[</span></div><br><div class="line-0-0-16 " data-content="      ...this.template.querySelectorAll(&quot;.&quot; + IS_ACTIVE),"><span class="lineCounter-0-0-15">103</span>      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"."</span> <span class="token operator">+</span> <span class="token constant">IS_ACTIVE</span><span class="token punctuation">)</span><span class="token punctuation">,</span></div><br><div class="line-0-0-16 " data-content="    ];"><span class="lineCounter-0-0-15">104</span>    <span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    if (alreadySelected.length === 1) {"><span class="lineCounter-0-0-15 prim">105</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>alreadySelected<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      alreadySelected[0].classList.toggle(IS_ACTIVE);"><span class="lineCounter-0-0-15">106</span>      alreadySelected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token constant">IS_ACTIVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">107</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">108</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">109</span></div><br><div class="line-0-0-16 " data-content="  _fillRange(start, end) {"><span class="lineCounter-0-0-15 prim">110</span>  <span class="token function">_fillRange</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    const safeEnd = end < start ? start + this.MAX_PAGES_TO_SHOW : end;"><span class="lineCounter-0-0-15">111</span>    <span class="token keyword">const</span> safeEnd <span class="token operator">=</span> end <span class="token operator">&lt;</span> start <span class="token operator">?</span> start <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">MAX_PAGES_TO_SHOW</span> <span class="token operator">:</span> end<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    return Array(safeEnd - start)"><span class="lineCounter-0-0-15">112</span>    <span class="token keyword">return</span> <span class="token function">Array</span><span class="token punctuation">(</span>safeEnd <span class="token operator">-</span> start<span class="token punctuation">)</span></div><br><div class="line-0-0-16 " data-content="      .fill()"><span class="lineCounter-0-0-15">113</span>      <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><br><div class="line-0-0-16 " data-content="      .map((_, index) => (start === 0 ? 1 + index : start + index));"><span class="lineCounter-0-0-15">114</span>      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>start <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">+</span> index <span class="token operator">:</span> start <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">115</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">116</span></div><br><div class="line-0-0-16 " data-content="  _highlightPageButtonAtIndex(pageNumber) {"><span class="lineCounter-0-0-15">117</span>  <span class="token function">_highlightPageButtonAtIndex</span><span class="token punctuation">(</span><span class="token parameter">pageNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this._clearCurrentlyActive();"><span class="lineCounter-0-0-15">118</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_clearCurrentlyActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    const pageButtons = [...this.template.querySelectorAll(&quot;button&quot;)];"><span class="lineCounter-0-0-15">119</span>    <span class="token keyword">const</span> pageButtons <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    const firstButton = pageButtons.filter("><span class="lineCounter-0-0-15 prim">120</span>    <span class="token keyword">const</span> firstButton <span class="token operator">=</span> pageButtons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="      (button) => button.textContent === String(pageNumber)"><span class="lineCounter-0-0-15">121</span>      <span class="token punctuation">(</span><span class="token parameter">button</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> button<span class="token punctuation">.</span>textContent <span class="token operator">===</span> <span class="token function">String</span><span class="token punctuation">(</span>pageNumber<span class="token punctuation">)</span></div><br><div class="line-0-0-16 " data-content="    );"><span class="lineCounter-0-0-15">122</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    if (firstButton.length === 1) {"><span class="lineCounter-0-0-15">123</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstButton<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      firstButton[0].classList.toggle(IS_ACTIVE);"><span class="lineCounter-0-0-15">124</span>      firstButton<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token constant">IS_ACTIVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15 prim">125</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">126</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">127</span><span class="token punctuation">}</span></div><br></code></pre><p>There's a lot to consider here. The pager has to handle quite a few distinct responsibilities when considering the page ranges:</p><ul><li>it should show up to <code>MAX_PAGES_TO_SHOW</code> pages at a time, but it also can't overflow the max number of pages (in this example, with 5 results per page and 100 overall results, it has to not show pages less than 1 or more than 20)</li><li>it needs to handle toggling the <code>active</code> class on a given page number when that number is clicked or the next/previous buttons are clicked</li><li>it needs to handle toggling the <code>active</code> class for the first page when the pager first loads</li><li>the shown pages need to update as either the next/previous buttons are clicked, or the page numbers themselves are clicked</li><li>it needs to translate between zero-index based counting and what we like to look at -- so it starts on Page 1 and not on Page 0!</li></ul><h2 id="wrapping-up" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Wrapping Up</h2><p>The pager is ready to be used! It can take in any generic list of other components and dictate how many of those components should be displayed. An exercise left to the reader would be modifying the <code>MAX_PAGES_TO_SHOW</code> constant to instead be a property configurable by a <code>select</code> element within the pager. That way you can expand the height of the pager programmatically to show the full data-set when requested by a user.</p><p>I've pushed the entirety of this example to the <a href="https://github.com/jamessimone/lwc-paginator">LWC Pager repository on my github</a> for you to browse. I hope that you enjoyed this compositional journey into the innards of Lightning Web Components! I've been wanting to open-source some of my LWC work for a while now, and I feel that pagination is such a common -- but suitably complex enough -- problem that it might prove useful to others.</p><p>Thanks for being a part of this <a href="/joys-of-apex/">Joys Of Apex</a> journey with me. Looking forward to the next time we meet here!</p><div class="contentnav-0-0-7" data-no-search=""><a href="#slot-based-composition" class="h2" data-content-highlight="slot-based-composition">Slot-Based Composition</a><a href="#starting-to-paginate" class="h2" data-content-highlight="starting-to-paginate">Starting To Paginate</a><a href="#starting-to-actually-paginate" class="h2" data-content-highlight="starting-to-actually-paginate">Starting To Actually Paginate</a><a href="#an-aside-on-lwc-lifecycle-hooks" class="h3" data-content-highlight="an-aside-on-lwc-lifecycle-hooks">An Aside On LWC Lifecycle Hooks</a><a href="#returning-to-pagination" class="h3" data-content-highlight="returning-to-pagination">Returning To Pagination</a><a href="#setting-up-page-ranges" class="h2" data-content-highlight="setting-up-page-ranges">Setting Up Page Ranges</a><a href="#wrapping-up" class="h2" data-content-highlight="wrapping-up">Wrapping Up</a></div></div><div id="-codedoc-toc" class="toc-0-0-4"><div class="content-0-0-5"><p><a href="/joys-of-apex/">Home</a>
<a href="/joys-of-apex/apex-logging-service">Apex Logging Service</a>
<a href="/joys-of-apex/apex-object-oriented-basics">Apex Object-Oriented Basics</a>
<a href="/joys-of-apex/batchable-and-queueable-apex">Batchable And Queueable Apex</a>
<a href="/joys-of-apex/building-a-better-singleton">Building A Better Singleton</a>
<a href="/joys-of-apex/continuous-integration-with-sfdx">Continuous Integration With SFDX</a>
<a href="/joys-of-apex/dependency-injection-factory-pattern">Dependency Injection &amp; Factory Pattern</a>
<a href="/joys-of-apex/enum-apex-class-gotchas">Enum Apex Class Gotchas</a>
<a href="/joys-of-apex/extendable-apis">Extendable Apis</a>
<a href="/joys-of-apex/future-method-callout-callback">Future Methods, Callouts &amp; Callbacks</a>
<a href="/joys-of-apex/idiomatic-salesforce-apex">Idiomatic Salesforce Apex</a>
<a href="/joys-of-apex/intro">Introduction &amp; Testing Philosophy</a>
<a href="/joys-of-apex/lazy-iterators">Lazy Iterators</a>
<a href="/joys-of-apex/lightweight-trigger-handler">Lightweight Trigger Handler</a>
<a href="/joys-of-apex/lwc-composable-pagination">LWC Composable Pagination</a>
<a href="/joys-of-apex/mocking-dml">Mocking DML</a>
<a href="/joys-of-apex/react-versus-lightning-web-components">React Versus Lightning Web Components</a>
<a href="/joys-of-apex/repository-pattern">Repository Pattern</a>
<a href="/joys-of-apex/sorting-and-performance-in-apex">Sorting And Performance In Apex</a>
<a href="/joys-of-apex/test-driven-development-example">Test Driven Development Example</a>
<a href="/joys-of-apex/writing-performance-apex-tests">Writing Performant Apex Tests</a></p><p><br><br></p><p><a href="https://www.jamessimone.net/">Read more tech articles</a></p></div></div><div class="footer-0-0-3"><div class="left"><script id="xHiSWkYtHf">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("xHiSWkYtHf", "BWW0vHR4333HbDOiwZ67JA==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"></div></div><div class="right"><script id="NVDyxIooTM">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("NVDyxIooTM", "6yEdMfRRlNsUBKSBOTazFg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="ZEjvFNTbcZ">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("ZEjvFNTbcZ", "wh9V9isakhdwzlz9ZUjvyw==", {"namespace":"/joys-of-apex"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>